{"version":3,"file":"index.js","sources":["../src/api/api.js","../src/js/header.js","../src/js/order-modal.js","../src/js/furniture-detail.js","../src/js/furniture-list.js","../src/js/faq.js","../src/img/star-full.svg","../src/img/star-empty.svg","../src/img/star-half.svg","../src/js/feedback.js"],"sourcesContent":["import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: 'https://furniture-store.b.goit.study/api',\n  timeout: 5000,\n});\n","const burgerBtn = document.querySelector('[data-menu-open]');\nconst closeBtn = document.querySelector('[data-menu-close]');\nconst menu = document.querySelector('.menu-header');\nconst body = document.body;\n\n// Відкрити меню\nburgerBtn.addEventListener('click', () => {\n  menu.classList.add('is-open');\n  body.classList.add('no-scroll');\n  burgerBtn.style.display = 'none';\n  closeBtn.style.display = 'block';\n});\n\n// Закрити меню\nfunction closeMenu() {\n  menu.classList.remove('is-open');\n  body.classList.remove('no-scroll');\n  closeBtn.style.display = 'none';\n  burgerBtn.style.display = 'block';\n}\n\ncloseBtn.addEventListener('click', closeMenu);\n\n// Закрити по Escape\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && menu.classList.contains('is-open')) {\n    closeMenu();\n  }\n});\n\n// Закрити при кліку поза меню\ndocument.addEventListener('click', e => {\n  if (\n    menu.classList.contains('is-open') &&\n    !e.target.closest('.menu-header') &&\n    !e.target.closest('[data-menu-open]')\n  ) {\n    closeMenu();\n  }\n});\n\n// Закрити при переході по якірних посиланнях\nmenu.querySelectorAll('a[href^=\"#\"]').forEach(link => {\n  link.addEventListener('click', e => {\n    const target = document.querySelector(link.getAttribute('href'));\n    if (target) {\n      target.scrollIntoView({ behavior: 'smooth' });\n    }\n    closeMenu();\n  });\n});\n","const orderModal = document.querySelector('[data-order-modal]');\nconst orderForm = orderModal.querySelector('.order-form');\nconst btnClose = orderModal.querySelector('[data-order-close]');\n\nlet currentFurnitureId = null;\nlet currentMarker = null;\n\nfunction openOrderModal(furnitureId = '', marker = '') {\n  currentFurnitureId = furnitureId;\n  currentMarker = marker;\n  orderModal.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeOrderModal(resetForm = false) {\n  orderModal.classList.add('is-hidden');\n  document.body.style.overflow = 'auto';\n  if (resetForm) orderForm.reset();\n}\n\n// Закриття по кліку на бекдроп або кнопку\norderModal.addEventListener('click', e => {\n  if (e.target === orderModal || e.target.closest('[data-order-close]')) {\n    closeOrderModal();\n  }\n});\n\n// Закриття по ESC\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !orderModal.classList.contains('is-hidden')) {\n    closeOrderModal();\n  }\n});\n\n// ===== Валідація =====\nconst phoneInput = orderForm.elements.phone;\nconst nameInput = orderForm.elements.name;\nlet errorMessagePhone = createErrorMessage(phoneInput);\nlet errorMessageName = createErrorMessage(nameInput);\n\nfunction createErrorMessage(input) {\n  let span = input.nextElementSibling;\n  if (!span || !span.classList.contains('error-message')) {\n    span = document.createElement('span');\n    span.classList.add('error-message');\n    input.insertAdjacentElement('afterend', span);\n  }\n  return span;\n}\n\nfunction formatPhone(value) {\n  let digits = value.replace(/\\D/g, '');\n  if (digits.startsWith('0')) digits = digits.slice(1);\n  if (!digits.startsWith('38')) digits = '38' + digits;\n  return digits.length > 2\n    ? '+' + digits.slice(0, 2) + ' ' + digits.slice(2, 5) + ' ' + digits.slice(5, 8) + ' ' + digits.slice(8, 12)\n    : '+' + digits;\n}\n\nfunction validatePhone() {\n  phoneInput.value = formatPhone(phoneInput.value);\n  const digitsOnly = phoneInput.value.replace(/\\D/g, '');\n  if (digitsOnly.length === 12 && digitsOnly.startsWith('38')) {\n    phoneInput.classList.remove('error');\n    errorMessagePhone.textContent = '';\n    return true;\n  } else {\n    phoneInput.classList.add('error');\n    errorMessagePhone.textContent = 'Невірний номер телефону';\n    return false;\n  }\n}\n\nfunction validateName() {\n  const value = nameInput.value.trim();\n  if (value.length >= 2) {\n    nameInput.classList.remove('error');\n    errorMessageName.textContent = '';\n    return true;\n  } else {\n    nameInput.classList.add('error');\n    errorMessageName.textContent = 'Введіть ім’я (мінімум 2 символи)';\n    return false;\n  }\n}\n\n// Live форматування\nphoneInput.addEventListener('input', () => {\n  phoneInput.value = formatPhone(phoneInput.value);\n  phoneInput.classList.remove('error');\n  errorMessagePhone.textContent = '';\n});\n\n// ===== Сабміт =====\norderForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const isValid = validateName() & validatePhone(); \n  if (!isValid) return;\n\n  const formData = new FormData(orderForm);\n  const data = {\n    name: formData.get('name').trim(),\n    phone: formData.get('phone').trim(),\n    comment: formData.get('comment')?.trim(),\n    furnitureId: currentFurnitureId,\n    marker: currentMarker,\n  };\n\n  try {\n    const response = await fetch('/orders', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Помилка сервера');\n    }\n\n    iziToast.success({ title: 'Успіх', message: 'Заявка відправлена!' });\n    closeOrderModal(true); \n\n  } catch (error) {\n    iziToast.error({ title: 'Помилка', message: error.message });\n  }\n});\n\nexport { openOrderModal, closeOrderModal };","import { openOrderModal } from './order-modal.js';\n\nconst modal = document.querySelector('[data-modal]');\n\nlet tempFurnitureId = null;\nlet tempMarker = null;\n\nfunction openModal(furnitureItem) {\n  document.body.style.overflow = 'hidden';\n  modal.classList.remove('is-hidden');\n\n  // Зберігаємо ID і marker тимчасово\n  tempFurnitureId = furnitureItem._id || furnitureItem.id || '';\n  tempMarker = furnitureItem.marker || '';\n\n  modal.querySelector('.modal-title').textContent = furnitureItem.name;\n  modal.querySelector('.modal-category').textContent = furnitureItem.category.name;\n  modal.querySelector('.modal-price').textContent = `${furnitureItem.price} грн`;\n  modal.querySelector('.modal-description').textContent = furnitureItem.description;\n  modal.querySelector('.modal-sizes').textContent = `Розміри: ${furnitureItem.sizes}`;\n\n  renderGallery(furnitureItem.images);\n  renderStars(furnitureItem.rate);\n\n  // Використовуємо кольори з API, без хардкоду\n  renderColors(furnitureItem.color || []);\n}\n\nfunction renderGallery(images) {\n  const gallery = modal.querySelector('.modal-gallery');\n  if (!images || images.length === 0) {\n    gallery.innerHTML = '<p>Немає зображень</p>';\n    return;\n  }\n  const mainImage = `<div class=\"main-image\"><img src=\"${images[0]}\" alt=\"Основне фото\" /></div>`;\n  const thumbnails = images\n    .slice(1)\n    .map((url, i) => `<div class=\"thumb\"><img src=\"${url}\" alt=\"Фото ${i + 2}\" /></div>`)\n    .join('');\n  gallery.innerHTML = mainImage + `<div class=\"thumbs-row\">${thumbnails}</div>`;\n}\n\nfunction renderStars(rate) {\n  const container = modal.querySelector('.modal-rate');\n  const fullStars = Math.floor(rate);\n  const halfStar = rate % 1 >= 0.5;\n  const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);\n  let starsHtml = '';\n\n  starsHtml += '<svg class=\"modal-star\">'.repeat(fullStars).replace(/>/g, '><use href=\"./img/sprite.svg#icon-star\"></use></svg>');\n  if (halfStar) starsHtml += '<svg class=\"modal-star\"><use href=\"./img/sprite.svg#icon-star-half\"></use></svg>';\n  starsHtml += '<svg class=\"modal-star\">'.repeat(emptyStars).replace(/>/g, '><use href=\"./img/sprite.svg#icon-star-empty\"></use></svg>');\n\n  container.innerHTML = starsHtml;\n}\n\nfunction renderColors(colors) {\n  const container = modal.querySelector('.modal-colors');\n  const title = `<p class=\"color-label-title\">Колір</p>`;\n  const labels = colors\n    .map(\n      (color, i) => `\n      <label class=\"color-label\">\n        <input type=\"radio\" name=\"color\" value=\"${color}\" ${i === 0 ? 'checked' : ''}/>\n        <span class=\"color-dot\" style=\"background-color:${color}\"></span>\n      </label>`\n    )\n    .join('');\n  container.innerHTML = title + `<div class=\"color-label-group\">${labels}</div>`;\n}\n\nmodal.addEventListener('click', e => {\n  if (e.target.closest('[data-close]') || e.target === modal) {\n    closeModal();\n  }\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n\nconst btnOrder = modal.querySelector('[data-order]');\nbtnOrder?.addEventListener('click', () => {\n  // При закритті модалки з описом — передаємо ID і marker в orderModal\n  closeModal();\n  openOrderModal(tempFurnitureId, tempMarker);\n});\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n  document.body.style.overflow = 'auto';\n}\n\nexport { openModal };\n","import { openModal } from './furniture-detail.js';\n\nconst furnitureItems = document.querySelectorAll('.card[data-category-id]');\nconst container = document.querySelector('.price-list');\nconst loadMoreBtn = document.getElementById('load-more-btn');\n\nlet categoryId = 'all'; // поточна категорія\nlet currentPage = 1;\nconst limit = 8;\nlet furnitureList = [];\nlet selectedCategory = null; // для підсвітки активної категорії\n\n// --- Виділення першої категорії \"all\" ---\nconst firstCategoryCard = Array.from(furnitureItems).find(\n  card => card.dataset.categoryId === 'all'\n);\nif (firstCategoryCard) {\n  firstCategoryCard.classList.add('selected');\n  selectedCategory = firstCategoryCard;\n  categoryId = firstCategoryCard.dataset.categoryId;\n}\n\n// --- Обробка кліку на категорію ---\nfurnitureItems.forEach(card => {\n  card.addEventListener('click', e => {\n    const clickedCard = e.target.closest('.card');\n    if (!clickedCard) return;\n\n    // Підсвітка\n    if (selectedCategory) {\n      selectedCategory.classList.remove('selected');\n    }\n    clickedCard.classList.add('selected');\n    selectedCategory = clickedCard;\n\n    // Зміна категорії\n    categoryId = clickedCard.dataset.categoryId;\n    console.log('Клік по категорії:', categoryId);\n\n    // Скидаємо дані\n    currentPage = 1;\n    furnitureList = [];\n\n    // Завантажуємо нові товари\n    fetchFurnitureByCategory(categoryId, currentPage, limit).then(items => {\n      container.innerHTML = '';\n      renderFurniture(items);\n      loadMoreBtn.style.display = items.length < limit ? 'none' : 'block';\n    });\n  });\n});\n\n// --- Запит меблів з категорією ---\nfunction fetchFurnitureByCategory(categoryId, page = 1, limit = 8) {\n  let url = `https://furniture-store.b.goit.study/api/furnitures?page=${page}&limit=${limit}`;\n  if (categoryId && categoryId !== 'all') {\n    url += `&category=${categoryId}`;\n  }\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then(data => data.furnitures)\n    .catch(err => {\n      console.error('Помилка при завантаженні меблів за категорією:', err);\n      return [];\n    });\n}\n\n// --- Рендер ---\nfunction renderFurniture(items) {\n  furnitureList = furnitureList.concat(items);\n\n  const markup = items\n    .map((item, index) => {\n      const colors = item.color || ['#c7c3bb', '#c7aa80', '#201a19'];\n\n      const colorsMarkup = `\n        <div class=\"color-label-group\">\n          ${colors\n            .map(\n              (color, i) => `\n                <label class=\"color-label\">\n                  <input type=\"radio\" name=\"color-${index}\" value=\"${color}\" ${\n                i === 0 ? 'checked' : ''\n              } />\n                  <span class=\"color-dot\" style=\"background-color:${color}\"></span>\n                </label>\n              `\n            )\n            .join('')}\n        </div>\n      `;\n\n      return `\n        <div class=\"price\" data-index=\"${\n          furnitureList.length - items.length + index\n        }\">\n          <img class=\"price-image\" src=\"${item.images[0]}\" alt=\"${item.name}\" />\n          <h2 class=\"price-title\">${item.name}</h2>\n          ${colorsMarkup}\n          <p class=\"price-price\">${item.price} грн</p>\n          <button class=\"my-button\">Детальніше</button>\n        </div>\n      `;\n    })\n    .join('');\n\n  container.insertAdjacentHTML('beforeend', markup);\n}\n\n// --- Подія на кнопку \"Показати ще\" ---\nloadMoreBtn.addEventListener('click', () => {\n  currentPage += 1;\n  fetchFurnitureByCategory(categoryId, currentPage, limit).then(items => {\n    if (items.length === 0) {\n      loadMoreBtn.style.display = 'none';\n    }\n    renderFurniture(items);\n  });\n});\n\n// --- Обробка кліку на кнопку \"Детальніше\" ---\ncontainer.addEventListener('click', e => {\n  const btn = e.target.closest('.my-button');\n  if (!btn) return;\n\n  const card = btn.closest('.price');\n  const index = Number(card.dataset.index);\n\n  if (!isNaN(index)) {\n    const furnitureItem = furnitureList[index];\n    if (furnitureItem) {\n      openModal(furnitureItem);\n    }\n  }\n});\n\n// --- Початкове завантаження ---\nfetchFurnitureByCategory(categoryId, currentPage, limit).then(renderFurniture);\n","document.querySelectorAll('.accordion').forEach(acc => {\n  acc.addEventListener('show.bs.collapse', e => {\n    e.target.closest('.accordion-item').classList.add('active');\n  });\n  acc.addEventListener('hide.bs.collapse', e => {\n    e.target.closest('.accordion-item').classList.remove('active');\n  });\n});","export default \"data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.5709%201.19133C9.91464%200.326847%2011.0854%200.326848%2011.4291%201.19133L13.4579%206.29368C13.6029%206.65813%2013.9306%206.90714%2014.3067%206.93868L19.5727%207.38029C20.4649%207.45511%2020.8267%208.61981%2020.1469%209.22891L16.1348%2012.8239C15.8483%2013.0807%2015.723%2013.4837%2015.8106%2013.8675L17.0364%2019.2428C17.244%2020.1535%2016.2969%2020.8734%2015.533%2020.3854L11.0246%2017.5048C10.7025%2017.2991%2010.2975%2017.2991%209.9755%2017.5048L5.467%2020.3854C4.70312%2020.8734%203.75596%2020.1535%203.96364%2019.2428L5.18943%2013.8675C5.27699%2013.4837%205.15183%2013.0807%204.86527%2012.8239L0.853063%209.22891C0.173281%208.61981%200.535068%207.45511%201.42729%207.38029L6.69337%206.93868C7.06952%206.90714%207.39717%206.65813%207.54208%206.29368L9.5709%201.19133Z'%20fill='%23080C09'%20/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%20.587l3.668%207.431%208.209%201.192-5.938%205.787%201.403%208.175L12%2018.896l-7.342%203.877%201.403-8.175L.123%209.21l8.209-1.192L12%20.587z'%20fill='%23E0E0E0'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20.393%207.9851L20.4727%208.24826C20.5383%208.44688%2020.4831%208.66762%2020.3331%208.80615L15.4865%2013.1745L16.9225%2019.7218C16.9711%2019.9311%2016.8965%2020.1508%2016.733%2020.2797L16.5136%2020.4376C16.4284%2020.5081%2016.3227%2020.5453%2016.2145%2020.5429C16.1231%2020.5449%2016.0332%2020.5193%2015.9552%2020.4692L10.5002%2016.964L5.07514%2020.4692C4.99714%2020.5193%204.90717%2020.5449%204.81585%2020.5429C4.7076%2020.5453%204.60189%2020.5081%204.51668%2020.4376L4.26736%2020.2797C4.10386%2020.1508%204.02926%2019.9311%204.07788%2019.7218L5.51393%2013.1745L0.677238%208.81667C0.519508%208.67897%200.459802%208.4521%200.52765%208.24826L0.637348%207.9851C0.695676%207.77713%200.871037%207.6299%201.07614%207.61669L7.44861%207.07985L9.89188%200.879924C9.97017%200.674026%2010.1604%200.540173%2010.3706%200.543086H10.6298C10.8381%200.538421%2011.0263%200.673661%2011.0985%200.879924L13.5817%207.07985L19.9542%207.61669C20.1593%207.6299%2020.3346%207.77713%2020.393%207.9851ZM14.6089%2017.4482L13.492%2012.5219L17.1519%209.22719L12.3551%208.8272L10.5002%204.13252V14.8061L14.6089%2017.4482Z'%20fill='%23080C09'%20/%3e%3c/svg%3e\"","import Raty from 'raty-js';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nimport { api } from '../api/api.js';\nimport starOn from '../img/star-full.svg';\nimport starOff from '../img/star-empty.svg';\nimport starHalf from '../img/star-half.svg';\n\nfunction roundRating(value) {\n  if (value >= 3.3 && value <= 3.7) return 3.5;\n  if (value >= 3.8 && value <= 4.2) return 4;\n  return Math.round(value * 2) / 2;\n}\n\nexport async function initFeedback() {\n  const list = document.querySelector('.feedback-list');\n  if (!list) return;\n\n  try {\n    // \n    const { data } = await api.get('/feedbacks', {\n  params: {\n    limit: 10,\n    page: 1,\n  },\n});\n    \n    \n    const items = Array.isArray(data.feedbacks) ? data.feedbacks.slice(0, 10) : [];\n  \n\n    const markup = items\n       .map(item => {\n    const rating = roundRating(item.rate ?? 0);  // <-- заменили rating → rate\n    const text = item.descr || '';               // <-- заменили comment → descr\n    const user = item.name || 'Анонім';          // <-- name — уже подходит\n    return `\n          <li class=\"feedback-item swiper-slide\">\n            <div class=\"feedback-rating\" data-score=\"${rating}\"></div>\n            <p class=\"feedback-text text\">${text}</p>\n            <p class=\"feedback-user\">${user}</p>         \n          </li>\n        `;\n      })\n      .join('');\n\n    list.innerHTML = markup;\n\n    list.querySelectorAll('.feedback-rating').forEach(el => {\n      const score = parseFloat(el.dataset.score);\n      const raty = new Raty(el, {\n        readOnly: true,\n        score,\n        starOn,\n        starOff,\n        starHalf,\n        half: true,\n      });\n      raty.init();\n    });\n\n        new Swiper('.feedback-swiper', {\n  modules: [Navigation, Pagination],\n  navigation: {\n    nextEl: '.feedback-next',\n    prevEl: '.feedback-prev',\n  },\n  pagination: {\n    el: '.feedback-pagination-list',\n    clickable: true,\n    bulletClass: 'feedback-pagination-item',\n    bulletActiveClass: 'is-active',\n    // включає динамічні крапки\n    dynamicMainBullets: 6, \n    renderBullet: (index, className) => `<li class=\"${className}\"></li>`,\n  },\n  spaceBetween: 24, // відстань між картками\n  breakpoints: {\n    0: {          // мобільні\n      slidesPerView: 1,\n    },\n    768: {        // планшети\n      slidesPerView: 2,\n    },\n    1440: {       // десктопи\n      slidesPerView: 3,\n    },\n  },\n});\n\n\n\n  } catch (err) {\n    console.error('Failed to load feedbacks', err);\n  }\n}\nconst navButtons = document.querySelectorAll('.feedback-btn');\n\nnavButtons.forEach(btn => {\n  btn.addEventListener('click', () => {\n    navButtons.forEach(b => b.classList.remove('is-active'));\n    btn.classList.add('is-active');\n  });\n});\ninitFeedback();\n\n\n"],"names":["api","axios","burgerBtn","closeBtn","menu","body","closeMenu","link","e","target","orderModal","orderForm","currentFurnitureId","currentMarker","openOrderModal","furnitureId","marker","closeOrderModal","resetForm","phoneInput","nameInput","errorMessagePhone","createErrorMessage","errorMessageName","input","span","formatPhone","value","digits","validatePhone","digitsOnly","validateName","formData","data","response","errorData","error","modal","tempFurnitureId","tempMarker","openModal","furnitureItem","renderGallery","renderStars","renderColors","images","gallery","mainImage","thumbnails","url","i","rate","container","fullStars","halfStar","emptyStars","starsHtml","colors","title","labels","color","closeModal","btnOrder","furnitureItems","loadMoreBtn","categoryId","currentPage","limit","furnitureList","selectedCategory","firstCategoryCard","card","clickedCard","fetchFurnitureByCategory","items","renderFurniture","page","res","err","markup","item","index","colorsMarkup","btn","acc","starOn","starOff","starHalf","roundRating","initFeedback","list","rating","text","user","el","score","Raty","Swiper","Navigation","Pagination","className","navButtons","b"],"mappings":"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"}