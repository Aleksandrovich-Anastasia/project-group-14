{"version":3,"file":"index.js","sources":["../src/api/api.js","../src/js/order-modal.js","../src/js/furniture-detail.js","../src/js/furniture-list.js","../src/js/faq.js"],"sourcesContent":["import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: 'https://furniture-store.b.goit.study/api',\n  timeout: 5000,\n});\n","const orderModal = document.querySelector('[data-order-modal]');\nconst orderForm = orderModal.querySelector('.order-form');\nconst btnClose = orderModal.querySelector('[data-order-close]');\n\nlet currentFurnitureId = null;\nlet currentMarker = null;\n\nfunction openOrderModal(furnitureId = '', marker = '') {\n  currentFurnitureId = furnitureId;\n  currentMarker = marker;\n  orderModal.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeOrderModal(resetForm = false) {\n  orderModal.classList.add('is-hidden');\n  document.body.style.overflow = 'auto';\n  if (resetForm) orderForm.reset();\n}\n\n// Закриття по кліку на бекдроп або кнопку\norderModal.addEventListener('click', e => {\n  if (e.target === orderModal || e.target.closest('[data-order-close]')) {\n    closeOrderModal();\n  }\n});\n\n// Закриття по ESC\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !orderModal.classList.contains('is-hidden')) {\n    closeOrderModal();\n  }\n});\n\n// ===== Валідація =====\nconst phoneInput = orderForm.elements.phone;\nconst nameInput = orderForm.elements.name;\nlet errorMessagePhone = createErrorMessage(phoneInput);\nlet errorMessageName = createErrorMessage(nameInput);\n\nfunction createErrorMessage(input) {\n  let span = input.nextElementSibling;\n  if (!span || !span.classList.contains('error-message')) {\n    span = document.createElement('span');\n    span.classList.add('error-message');\n    input.insertAdjacentElement('afterend', span);\n  }\n  return span;\n}\n\nfunction formatPhone(value) {\n  let digits = value.replace(/\\D/g, '');\n  if (digits.startsWith('0')) digits = digits.slice(1);\n  if (!digits.startsWith('38')) digits = '38' + digits;\n  return digits.length > 2\n    ? '+' + digits.slice(0, 2) + ' ' + digits.slice(2, 5) + ' ' + digits.slice(5, 8) + ' ' + digits.slice(8, 12)\n    : '+' + digits;\n}\n\nfunction validatePhone() {\n  phoneInput.value = formatPhone(phoneInput.value);\n  const digitsOnly = phoneInput.value.replace(/\\D/g, '');\n  if (digitsOnly.length === 12 && digitsOnly.startsWith('38')) {\n    phoneInput.classList.remove('error');\n    errorMessagePhone.textContent = '';\n    return true;\n  } else {\n    phoneInput.classList.add('error');\n    errorMessagePhone.textContent = 'Невірний номер телефону';\n    return false;\n  }\n}\n\nfunction validateName() {\n  const value = nameInput.value.trim();\n  if (value.length >= 2) {\n    nameInput.classList.remove('error');\n    errorMessageName.textContent = '';\n    return true;\n  } else {\n    nameInput.classList.add('error');\n    errorMessageName.textContent = 'Введіть ім’я (мінімум 2 символи)';\n    return false;\n  }\n}\n\n// Live форматування\nphoneInput.addEventListener('input', () => {\n  phoneInput.value = formatPhone(phoneInput.value);\n  phoneInput.classList.remove('error');\n  errorMessagePhone.textContent = '';\n});\n\n// ===== Сабміт =====\norderForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const isValid = validateName() & validatePhone(); \n  if (!isValid) return;\n\n  const formData = new FormData(orderForm);\n  const data = {\n    name: formData.get('name').trim(),\n    phone: formData.get('phone').trim(),\n    comment: formData.get('comment')?.trim(),\n    furnitureId: currentFurnitureId,\n    marker: currentMarker,\n  };\n\n  try {\n    const response = await fetch('/orders', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Помилка сервера');\n    }\n\n    iziToast.success({ title: 'Успіх', message: 'Заявка відправлена!' });\n    closeOrderModal(true); \n\n  } catch (error) {\n    iziToast.error({ title: 'Помилка', message: error.message });\n  }\n});\n\nexport { openOrderModal, closeOrderModal };","import { openOrderModal } from './order-modal.js';\n\nconst modal = document.querySelector('[data-modal]');\n\nlet tempFurnitureId = null;\nlet tempMarker = null;\n\nfunction openModal(furnitureItem) {\n  document.body.style.overflow = 'hidden';\n  modal.classList.remove('is-hidden');\n\n  // Зберігаємо ID і marker тимчасово\n  tempFurnitureId = furnitureItem._id || furnitureItem.id || '';\n  tempMarker = furnitureItem.marker || '';\n\n  modal.querySelector('.modal-title').textContent = furnitureItem.name;\n  modal.querySelector('.modal-category').textContent = furnitureItem.category.name;\n  modal.querySelector('.modal-price').textContent = `${furnitureItem.price} грн`;\n  modal.querySelector('.modal-description').textContent = furnitureItem.description;\n  modal.querySelector('.modal-sizes').textContent = `Розміри: ${furnitureItem.sizes}`;\n\n  renderGallery(furnitureItem.images);\n  renderStars(furnitureItem.rate);\n\n  // Використовуємо кольори з API, без хардкоду\n  renderColors(furnitureItem.color || []);\n}\n\nfunction renderGallery(images) {\n  const gallery = modal.querySelector('.modal-gallery');\n  if (!images || images.length === 0) {\n    gallery.innerHTML = '<p>Немає зображень</p>';\n    return;\n  }\n  const mainImage = `<div class=\"main-image\"><img src=\"${images[0]}\" alt=\"Основне фото\" /></div>`;\n  const thumbnails = images\n    .slice(1)\n    .map((url, i) => `<div class=\"thumb\"><img src=\"${url}\" alt=\"Фото ${i + 2}\" /></div>`)\n    .join('');\n  gallery.innerHTML = mainImage + `<div class=\"thumbs-row\">${thumbnails}</div>`;\n}\n\nfunction renderStars(rate) {\n  const container = modal.querySelector('.modal-rate');\n  const fullStars = Math.floor(rate);\n  const halfStar = rate % 1 >= 0.5;\n  const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);\n  let starsHtml = '';\n\n  starsHtml += '<svg class=\"modal-star\">'.repeat(fullStars).replace(/>/g, '><use href=\"./img/sprite.svg#icon-star\"></use></svg>');\n  if (halfStar) starsHtml += '<svg class=\"modal-star\"><use href=\"./img/sprite.svg#icon-star-half\"></use></svg>';\n  starsHtml += '<svg class=\"modal-star\">'.repeat(emptyStars).replace(/>/g, '><use href=\"./img/sprite.svg#icon-star-empty\"></use></svg>');\n\n  container.innerHTML = starsHtml;\n}\n\nfunction renderColors(colors) {\n  const container = modal.querySelector('.modal-colors');\n  const title = `<p class=\"color-label-title\">Колір</p>`;\n  const labels = colors\n    .map(\n      (color, i) => `\n      <label class=\"color-label\">\n        <input type=\"radio\" name=\"color\" value=\"${color}\" ${i === 0 ? 'checked' : ''}/>\n        <span class=\"color-dot\" style=\"background-color:${color}\"></span>\n      </label>`\n    )\n    .join('');\n  container.innerHTML = title + `<div class=\"color-label-group\">${labels}</div>`;\n}\n\nmodal.addEventListener('click', e => {\n  if (e.target.closest('[data-close]') || e.target === modal) {\n    closeModal();\n  }\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n\nconst btnOrder = modal.querySelector('[data-order]');\nbtnOrder?.addEventListener('click', () => {\n  // При закритті модалки з описом — передаємо ID і marker в orderModal\n  closeModal();\n  openOrderModal(tempFurnitureId, tempMarker);\n});\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n  document.body.style.overflow = 'auto';\n}\n\nexport { openModal };\n","import { openModal } from './furniture-detail.js';\n\nconst furnitureItems = document.querySelectorAll('.card');\nconst container = document.querySelector('.price-list');\nconst loadMoreBtn = document.getElementById('load-more-btn');\n\nlet categoryId = 'all'; // поточна категорія\nlet currentPage = 1;\nconst limit = 8;\nlet furnitureList = [];\nlet selectedCategory = null; // для підсвітки активної категорії\n\n// --- Виділення першої категорії \"all\" ---\nconst firstCategoryCard = Array.from(furnitureItems).find(\n  card => card.dataset.category === 'all'\n);\nif (firstCategoryCard) {\n  firstCategoryCard.classList.add('selected');\n  selectedCategory = firstCategoryCard;\n  categoryId = firstCategoryCard.dataset.category;\n}\n\n// --- Обробка кліку на категорію ---\nfurnitureItems.forEach(card => {\n  card.addEventListener('click', e => {\n    const clickedCard = e.target.closest('.card');\n    if (!clickedCard) return;\n\n    // Підсвітка\n    if (selectedCategory) {\n      selectedCategory.classList.remove('selected');\n    }\n    clickedCard.classList.add('selected');\n    selectedCategory = clickedCard;\n\n    // Зміна категорії\n    categoryId = clickedCard.dataset.category;\n    console.log('Клік по категорії:', categoryId);\n\n    // Скидаємо дані\n    currentPage = 1;\n    furnitureList = [];\n\n    // Завантажуємо нові товари\n    fetchFurnitureByCategory(categoryId, currentPage, limit).then(items => {\n      container.innerHTML = '';\n      renderFurniture(items);\n      loadMoreBtn.style.display = items.length < limit ? 'none' : 'block';\n    });\n  });\n});\n\n// --- Запит меблів з категорією ---\nfunction fetchFurnitureByCategory(categoryId, page = 1, limit = 8) {\n  let url = `https://furniture-store.b.goit.study/api/furnitures?page=${page}&limit=${limit}`;\n  if (categoryId && categoryId !== 'all') {\n    url += `&category=${categoryId}`;\n  }\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then(data => data.furnitures)\n    .catch(err => {\n      console.error('Помилка при завантаженні меблів за категорією:', err);\n      return [];\n    });\n}\n\n// --- Запит без категорії ---\nfunction fetchFurniture(page = 1, limit = 8) {\n  return fetch(\n    `https://furniture-store.b.goit.study/api/furnitures?page=${page}&limit=${limit}`\n  )\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then(data => data.furnitures)\n    .catch(err => {\n      console.error('Помилка при завантаженні меблів:', err);\n      return [];\n    });\n}\n\n// --- Рендер ---\nfunction renderFurniture(items) {\n  furnitureList = furnitureList.concat(items);\n\n  const markup = items\n    .map((item, index) => {\n      const colors = item.colors || ['#c7c3bb', '#c7aa80', '#201a19'];\n\n      const colorsMarkup = `\n        <div class=\"color-label-group\">\n          ${colors\n            .map(\n              (color, i) => `\n                <label class=\"color-label\">\n                  <input type=\"radio\" name=\"color-${index}\" value=\"${color}\" ${\n                i === 0 ? 'checked' : ''\n              } />\n                  <span class=\"color-dot\" style=\"background-color:${color}\"></span>\n                </label>\n              `\n            )\n            .join('')}\n        </div>\n      `;\n\n      return `\n        <div class=\"price\" data-index=\"${\n          furnitureList.length - items.length + index\n        }\">\n          <img class=\"price-image\" src=\"${item.images[0]}\" alt=\"${item.name}\" />\n          <h2 class=\"price-title\">${item.name}</h2>\n          ${colorsMarkup}\n          <p class=\"price-price\">${item.price} грн</p>\n          <button class=\"my-button\">Детальніше</button>\n        </div>\n      `;\n    })\n    .join('');\n\n  container.insertAdjacentHTML('beforeend', markup);\n}\n\n// --- Подія на кнопку \"Показати ще\" ---\nloadMoreBtn.addEventListener('click', () => {\n  currentPage += 1;\n  fetchFurnitureByCategory(categoryId, currentPage, limit).then(items => {\n    if (items.length === 0) {\n      loadMoreBtn.style.display = 'none';\n    }\n    renderFurniture(items);\n  });\n});\n\n// --- Обробка кліку на кнопку \"Детальніше\" ---\ncontainer.addEventListener('click', e => {\n  const btn = e.target.closest('.my-button');\n  if (!btn) return;\n\n  const card = btn.closest('.price');\n  const index = Number(card.dataset.index);\n\n  if (!isNaN(index)) {\n    const furnitureItem = furnitureList[index];\n    if (furnitureItem) {\n      openModal(furnitureItem);\n    }\n  }\n});\n\n// --- Рендер кольорів (для модалки) ---\nfunction renderColors(colors) {\n  const container = modal.querySelector('.price');\n  const title = `<p class=\"color-label-title\">Колір</p>`;\n  const labels = colors\n    .map(\n      (color, i) => `\n        <label class=\"color-label\">\n          <input type=\"radio\" name=\"color\" value=\"${color}\" ${\n        i === 0 ? 'checked' : ''\n      } />\n          <span class=\"color-dot\" style=\"background-color:${color}\"></span>\n        </label>\n      `\n    )\n    .join('');\n\n  const group = `<div class=\"color-label-group\">${labels}</div>`;\n  container.innerHTML = title + group;\n}\n\n// --- Початкове завантаження ---\nfetchFurnitureByCategory(categoryId, currentPage, limit).then(renderFurniture);\n","document.querySelectorAll('.accordion').forEach(acc => {\n  acc.addEventListener('show.bs.collapse', e => {\n    e.target.closest('.accordion-item').classList.add('active');\n  });\n  acc.addEventListener('hide.bs.collapse', e => {\n    e.target.closest('.accordion-item').classList.remove('active');\n  });\n});"],"names":["axios","orderModal","orderForm","currentFurnitureId","currentMarker","openOrderModal","furnitureId","marker","closeOrderModal","resetForm","phoneInput","nameInput","errorMessagePhone","createErrorMessage","errorMessageName","input","span","formatPhone","value","digits","validatePhone","digitsOnly","validateName","formData","data","response","errorData","error","modal","tempFurnitureId","tempMarker","openModal","furnitureItem","renderGallery","renderStars","renderColors","images","gallery","mainImage","thumbnails","url","i","rate","container","fullStars","halfStar","emptyStars","starsHtml","colors","title","labels","color","closeModal","btnOrder","furnitureItems","loadMoreBtn","categoryId","currentPage","limit","furnitureList","selectedCategory","firstCategoryCard","card","e","clickedCard","fetchFurnitureByCategory","items","renderFurniture","page","res","err","markup","item","index","colorsMarkup","btn","acc"],"mappings":"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"}